{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Ø­ÛŒØ§ØªÛŒ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ -->
    <title>{% block title %}ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢ÛŒÙ†Ø¯Ù‡{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #10b981;
            --danger: #ef4444;
            --dark: #1f2937;
            --gray: #6b7280;
            --light: #f3f4f6;
            --white: #ffffff;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --radius: 12px;
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f9fafb;
            margin: 0;
            padding-top: 80px;
            color: var(--dark);
            line-height: 1.6;
        }

        a { text-decoration: none; color: inherit; transition: 0.2s; }
        ul { list-style: none; padding: 0; margin: 0; }

        /* ========== HEADER ========== */
        .main-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            height: 80px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 5%;
            box-shadow: var(--shadow-sm);
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
        }
        .logo a { font-size: 1.8rem; font-weight: 800; color: var(--primary); letter-spacing: -1px; }
        
        .main-nav ul { display: flex; align-items: center; gap: 20px; }
        
        .cart-link { position: relative; font-size: 1.4rem; color: var(--dark); display: flex; align-items: center; }
        .cart-link .count {
            position: absolute; top: -8px; right: -10px;
            background: var(--danger); color: white;
            border-radius: 50%; width: 20px; height: 20px;
            display: flex; align-items: center; justify-content: center;
            font-size: 0.75rem; font-weight: bold; border: 2px solid white;
        }

        /* Buttons */
        .btn { padding: 10px 20px; border-radius: 8px; font-weight: 500; font-size: 0.9rem; cursor: pointer; border: none; display: inline-flex; align-items: center; gap: 8px; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); }
        .btn-secondary { background: white; color: var(--dark); border: 1px solid #e5e7eb; }
        .btn-secondary:hover { border-color: var(--dark); }
        .btn-success { background: var(--secondary); color: white; }
        
        .logout-form { margin: 0; }

        /* ========== MAIN CONTAINER ========== */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* ========== FOOTER ========== */
        .main-footer {
            background: var(--white); border-top: 1px solid #e5e7eb;
            padding: 60px 5% 30px; margin-top: 80px;
        }
        .footer-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; margin-bottom: 40px;
        }
        .footer-col h3 { font-size: 1.1rem; margin-bottom: 20px; color: var(--dark); }
        .footer-col ul li { margin-bottom: 10px; }
        .footer-col ul li a { color: var(--gray); font-size: 0.95rem; }
        .footer-col ul li a:hover { color: var(--primary); }
        .copyright { text-align: center; color: var(--gray); font-size: 0.9rem; border-top: 1px solid #e5e7eb; padding-top: 30px; }

        /* ========== RESPONSIVE (MOBILE) ========== */
        @media (max-width: 768px) {
            .main-header { padding: 0 20px; height: 70px; }
            body { padding-top: 70px; }
            .logo a { font-size: 1.5rem; }
            .main-nav ul { gap: 10px; }
            .btn { padding: 8px 12px; font-size: 0.85rem; }
            /* Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù…ØªÙ† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ù…Ø®ÙÛŒ Ø´ÙˆØ¯ Ùˆ ÙÙ‚Ø· Ø¢ÛŒÚ©ÙˆÙ† Ø¨Ù…Ø§Ù†Ø¯ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) */
            .btn-text-mobile { display: none; } 
        }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body>
    <header class="main-header">
        <div class="logo">
            <a href="{% url 'homepage' %}">Ø¢ÛŒÙ†Ø¯Ù‡</a>
        </div>
        <nav class="main-nav">
            <ul>
                <li>
                    <a href="{% url 'cart:cart_detail' %}" class="cart-link">
                        <span>ğŸ›’</span>
                        {% if cart|length > 0 %}
                            <span class="count">{{ cart|length }}</span>
                        {% endif %}
                    </a>
                </li>
                
                {% if user.is_authenticated %}
                    <li><a href="{% url 'dashboard' %}" class="btn btn-primary">Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</a></li>
                    <li>
                        <form class="logout-form" method="POST" action="{% url 'logout' %}">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-secondary">Ø®Ø±ÙˆØ¬</button>
                        </form>
                    </li>
                {% else %}
                    <li><a href="{% url 'login' %}" class="btn btn-secondary">ÙˆØ±ÙˆØ¯</a></li>
                    <li><a href="{% url 'register' %}" class="btn btn-success">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer class="main-footer">
        <div class="container footer-grid">
            <div class="footer-col">
                <h3>Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¢ÛŒÙ†Ø¯Ù‡</h3>
                <p style="color: var(--gray); font-size: 0.9rem;">Ù…Ø§ Ø¢ÛŒÙ†Ø¯Ù‡ Ø®Ø±ÛŒØ¯ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒÙ…. Ø³Ø±ÛŒØ¹ØŒ Ù…Ø·Ù…Ø¦Ù† Ùˆ Ø¨Ø§ Ú©ÛŒÙÛŒØª.</p>
            </div>
            <div class="footer-col">
                <h3>Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹</h3>
                <ul>
                    <li><a href="#">Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¬Ø¯ÛŒØ¯</a></li>
                    <li><a href="#">ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§</a></li>
                    <li><a href="#">ÙˆØ¨Ù„Ø§Ú¯</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3>Ø®Ø¯Ù…Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†</h3>
                <ul>
                    <li><a href="#">Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´</a></li>
                    <li><a href="#">Ø±ÙˆÛŒÙ‡ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ú©Ø§Ù„Ø§</a></li>
                    <li><a href="#">Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ù¾Ø±Ø³Ø´â€ŒÙ‡Ø§</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ø¨Ø±Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢ÛŒÙ†Ø¯Ù‡ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
        </div>
    </footer>

    {% block extra_scripts %}{% endblock %}
</body>
</html>
