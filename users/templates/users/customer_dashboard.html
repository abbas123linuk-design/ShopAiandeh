{% extends 'users/dashboard_base.html' %}

{% block title %}Ù¾ÛŒØ´Ø®ÙˆØ§Ù† Ú©Ø§Ø±Ø¨Ø±ÛŒ{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1>Ø³Ù„Ø§Ù…ØŒ {{ user.first_name|default:user.username }}! ğŸ‘‹</h1>
    <p>Ø¨Ù‡ Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯. Ø§Ø² Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.</p>
</div>

<div class="stats-cards">
    <div class="card">
        <div class="card-icon blue">ğŸ“¦</div>
        <div class="card-info">
            <h3>{{ user.orders.count }}</h3>
            <span>Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†</span>
        </div>
    </div>
    
    <div class="card">
        <div class="card-icon green">ğŸ“</div>
        <div class="card-info">
            <h3>{{ user.addresses.count }}</h3>
            <span>Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡</span>
        </div>
    </div>

    <div class="card">
        <div class="card-icon purple">ğŸ›’</div>
        <div class="card-info">
            <h3>{{ request.session.cart|length|default:"0" }}</h3> <!-- Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ù…ÙˆÙ‚Øª -->
            <span>Ú©Ø§Ù„Ø§ Ø¯Ø± Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</span>
        </div>
    </div>
</div>

<div class="quick-actions">
    <h2>Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹</h2>
    <div class="action-buttons">
        <a href="{% url 'homepage' %}" class="action-btn primary">Ø´Ø±ÙˆØ¹ Ø®Ø±ÛŒØ¯ Ø¬Ø¯ÛŒØ¯</a>
        <a href="{% url 'address_create' %}" class="action-btn secondary">Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯</a>
        <a href="{% url 'profile_edit' %}" class="action-btn outline">ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø´Ø®ØµØ§Øª</a>
    </div>
</div>

<style>
    .dashboard-header { margin-bottom: 40px; }
    .dashboard-header h1 { font-size: 1.8rem; color: #2c3e50; margin-bottom: 10px; }
    .dashboard-header p { color: #6c757d; }

    .stats-cards {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 20px; margin-bottom: 40px;
    }
    .card {
        background: white; padding: 25px; border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.03); display: flex; align-items: center;
        transition: transform 0.2s;
    }
    .card:hover { transform: translateY(-5px); }
    .card-icon {
        width: 60px; height: 60px; border-radius: 12px; display: flex;
        align-items: center; justify-content: center; font-size: 1.8rem; margin-left: 20px;
    }
    .card-icon.blue { background-color: #e3f2fd; color: #0d6efd; }
    .card-icon.green { background-color: #d1e7dd; color: #0f5132; }
    .card-icon.purple { background-color: #e0cffc; color: #6610f2; }
    .card-info h3 { margin: 0; font-size: 1.8rem; color: #333; }
    .card-info span { color: #888; font-size: 0.9rem; }

    .quick-actions h2 { font-size: 1.3rem; margin-bottom: 20px; color: #333; }
    .action-buttons { display: flex; gap: 15px; flex-wrap: wrap; }
    .action-btn {
        padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: 600;
        text-align: center; flex: 1; min-width: 150px; transition: all 0.2s;
    }
    .action-btn.primary { background-color: #007bff; color: white; }
    .action-btn.primary:hover { background-color: #0056b3; }
    .action-btn.secondary { background-color: #28a745; color: white; }
    .action-btn.secondary:hover { background-color: #218838; }
    .action-btn.outline { border: 2px solid #dee2e6; color: #555; background: white; }
    .action-btn.outline:hover { border-color: #adb5bd; background-color: #f8f9fa; }
</style>
{% endblock %}
